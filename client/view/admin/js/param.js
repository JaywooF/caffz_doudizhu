var lib={load:0,radio:function(_value,_id,_type){var _remove=_value>0?"off":"on";var _add=_value>0?"on":"off";if($("#"+_id+"_"+_remove).next().hasClass("radio-checked")){$("#"+_id+"_"+_remove).next().removeClass("radio-checked");$("#"+_id+"_"+_remove).attr("checked",false);$("#"+_id+"_"+_add).attr("checked",true);$("#"+_id+"_"+_add).next().addClass("radio-checked");if(_type>0){_value>0?$("#"+_id).show():$("#"+_id).hide()}else{_value>0?$("#"+_id).hide():$("#"+_id).show()}}},entry:function(_this,_type){if(_type=="password"){var _entity=$(_this).val().match(new RegExp("[&][#]?[a-zA-Z0-9]+[;]"));if(_entity!=null){$(_this).val(null);layer.tips("不能含有实体代码："+_entity[0].replace(/&/,"&amp;"),_this,{tips:3})}}else if(_type=="tinyint"){if(new RegExp("\\D").test($(_this).val())){$(_this).val($(_this).val().replace(/\D/g,""));layer.tips("只能输入数字",_this,{tips:3})}else if(Number($(_this).val())>255){$(_this).val(null);layer.tips("数字范围：0-255",_this,{tips:3})}}else if(_type=="number"){if(new RegExp("\\D").test($(_this).val())){$(_this).val($(_this).val().replace(/\D/g,""));layer.tips("只能输入数字",_this,{tips:3})}}},write:function(_path,_token){this.load=layer.load(1);$.post(_path+"index.php/admin/param/write",{data:$("form").serializeArray(),token:_token},function(data){layer.close(lib.load);if(data==1){layer.msg("保存成功！",{icon:1})}else if(data==-1){layer.msg("登录已超时！",{icon:4})}else if(data==-2){layer.msg("权限或进程出错！",{icon:2})}else{layer.msg(data,{time:0,btn:["确定"]})}})}};